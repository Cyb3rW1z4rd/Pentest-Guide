# Gcc and Gdb

Cheatsheet [https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/c.md](https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/c.md)

Basic GDB commands [http://www.cs.mcgill.ca/~consult/info/gdb.html](http://www.cs.mcgill.ca/~consult/info/gdb.html)

https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html

i686-w64-mingw32-g++  prometheus.cpp -o prometheus.exe -lws2_32 -s -ffunction-sections  -fdata-sections -Wno-write-strings -fno-exceptions -fmerge-all-constants  -static-libstdc++ -static-libgcc



| **GCC** |  |
| :--- | :--- |
| gcc vuln.c -ggdb -S -Wall -o vuln | Debug compilation |
| gcc -O vult.c -o vuln | Compile |
|  |  |
| -g | debugging information |
| -O | optimize for code size and execution time |
| -Wall | enable \(all\) warning messages |
| -ggdb | extra debugging information; useful when using gdb |
| -S | Creates a file with assembly instructions; saved in .s |
| -lws2_32 | for winsock functions |
| -s | strip symbols (reduces size) |
| -static-libgcc | On systems that provide libgcc as a shared library, these options force the use of either the shared or static version, respectively. |
| -static-libstdc++ |  |
| -ffunction-sections |  |
| -fdata-sections |  |
| -Wno-write-strings |  |
| -fno-exceptions |  |
| -fmerge-all-constants |  |
|  |  |
| **GDB commands** |  |
| gdb ./vuln | load program in GDB |
| list | lists source code |
| disassemble main | disassemble main function |
| disas /s main | disassembly with mixed source |
| run vuln | runs the vuln program |
| b main | puts a breakpoint at the beginning of the program |
| r | runs the program until a breakpoint |
| s or \(step\) | Execute one C-program statement \(steps into functions\) |
| si or \(stepi\) | Execute one machine instruction \(follows a call\) |
| ni | next instruction |
| info registers or   i   r | prints the names and values of all registers |
|  |  |

Debugging Cheatsheet [https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/c.md](