# Compile for Windows & Linux

### On 64 Bit Linux for Windows

Compiling exploits for windows on Linux can be a bit of a hassle.

**For 64bit executable**

```text
x86_64-w64-mingw32-gcc exploit.c -o exploit64.exe
```

**For 32bit executable**

```text
i686-w64-mingw32-gcc exploit.c -o exploit32.exe -l ws2_32
```

-lws2\_32 explanation: [https://www.ihacklabs.com/en/compile-exploit-for-windows-in-kali/](https://www.ihacklabs.com/en/compile-exploit-for-windows-in-kali/)

Compile it for both 32- and 64-bit Windows with the following commands.

1. > ```text
   > /opt/mingw32/bin/i686-w64-mingw32-gcc /tmp/hello.c -o /tmp/hello-w32.exe
   > /opt/mingw64/bin/x86_64-w64-mingw32-gcc /tmp/hello.c -o /tmp/hello-w64.exe
   > ```
2. Run “hello-w32.exe” on 32-bit Windows, and “hello-w64.exe” on 64-bit Windows.

### On 32 Bit Linux for Windows

To compile your code, you can use something like:

`i586-mingw32msvc-gcc myApp.c -o myApp.exe -lws2_32`



## Compile on Windows for Windows with Mingw

### 32 bit

C:\Program Files (x86)\CodeBlocks\MinGW\bin\gcc.exe or g++.exe

gcc myfile.c -o myfile [-lsw2_32]

### 64 bit

C:\Program Files\CodeBlocks\MinGW\bin\

x86_64-w64-mingw32-gcc.exe or g++.exe



## Compile for Linux on Linux

#### Force gcc to compile 32 bit programs on 64 bit platform

[https://stackoverflow.com/questions/3501878/force-gcc-to-compile-32-bit-programs-on-64-bit-platform](https://stackoverflow.com/questions/3501878/force-gcc-to-compile-32-bit-programs-on-64-bit-platform)

```text
sudo apt-get install gcc-multilib
gcc -m32 geek.c -o geek
```

## Wine 32 on Kali Linux

`dpkg --add-architecture i386 && apt-get update && apt-get install wine32`

`root@kali:~# wine /usr/share/ollydbg/OLLYDBG.EXE` run ollydbg on linux

https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/c.md)