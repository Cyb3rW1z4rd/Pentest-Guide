# Bash & Python

Specific commands for Exploitation and scripting

[https://www.reddit.com/r/bash/comments/8uw4q2/can\_you\_combine\_python\_and\_bash\_in\_a\_single\_script/?st=JJ1ZN103&sh=e787f41d](https://www.reddit.com/r/bash/comments/8uw4q2/can_you_combine_python_and_bash_in_a_single_script/?st=JJ1ZN103&sh=e787f41d)

## Bash

[https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/bash.md](https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/bash.md)

Shebang `#!/usr/bin/env bash` [https://twitter.com/Hacker\_Horse/status/1006931951822032896](https://twitter.com/Hacker_Horse/status/1006931951822032896) and [https://stackoverflow.com/questions/5725296/difference-between-sh-and-bash](https://stackoverflow.com/questions/5725296/difference-between-sh-and-bash)

`strace` is a tool that tells you which operating system \(OS\) calls your program is making. My Favourite Secret Weapon

`sudo -u scriptmanager cat /scripts/test.py` run a command as another user, as scriptmanager in this case

**Variables**

first_name = hello

echo $first_name

user=$(whoami)



**Arguments**

| Variable Name | Description                                      |
| ------------- | ------------------------------------------------ |
| $0            | The name of the Bash script                      |
| $1 - $9       | The first 9 arguments to the Bash script         |
| $#            | Number of arguments passed to the Bash script    |
| $@            | All arguments passed to the Bash script          |
| $?            | The exit status of the most recently run process |
| $$            | The process ID of the current script             |
| $USER         | The username of the user running the script      |
| $HOSTNAME     | The hostname of the machine                      |
| $RANDOM       | A random number                                  |
| $LINENO       | The current line number in the script            |



**User input**

read answer

echo "Your answer is $answer"

We can alter the behavior of the read command with various command line options. Two of the most commonly used options include **-p**, which allows us to specify a prompt, and **-s**, which makes the user input silent. The latter is ideal for capturing user credentials:



**If, Else, Elif statements**

```bash
if [ <some test> ]
then
<perform an action>
fi
```

```
read -p "What is your age: " age
if [ $age -lt 16 ]
then
echo "You might need parental permission to take this course!"
fi
```

**Loops**

```shell
for var-name in <list>
do
â€‹	<action to perform>
done
```



```
while [ <some test> ]
do
<perform an action>
done
```

```
counter=1
while [ $counter -lt 10 ]
do
echo "10.11.1.$counter"
((counter++))
done
```



## Python

Python shebang `#!usr/bin/env python3` or `python2`

### run bash command from python

[https://stackoverflow.com/questions/7681715/whats-the-difference-between-subprocess-popen-and-call-how-can-i-use-them](https://stackoverflow.com/questions/7681715/whats-the-difference-between-subprocess-popen-and-call-how-can-i-use-them)

`import subprocess`

`subprocess.Popen("cwm --rdf test.rdf --ntriples > test.nt")`

`subprocess.call(["sudo", "apt", "update"])`

`sudo -u scriptmanager echo -e 'subprocess.call(["cat", "/root/root.txt"])' | sudo -u scriptmanager tee --append /scripts/test.py`

x = "hello world" print\(x\[4:\]\) print from element 0 till end

\*\* = exponentionation

% = modulus

### Copy a file

[https://stackoverflow.com/questions/123198/how-do-i-copy-a-file-in-python](https://stackoverflow.com/questions/123198/how-do-i-copy-a-file-in-python)

### Create a file, write text and close the file

`f = open("test.txt", "w")`

`f.write("testing 123!")`

`f.close`

