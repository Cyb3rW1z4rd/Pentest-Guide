# Docker

[https://docker-curriculum.com](https://docker-curriculum.com)

[https://www.tutorialspoint.com/docker/index.htm](https://www.tutorialspoint.com/docker/index.htm)

`docker --help` for information on docker commands

The `docker ps`command shows you all containers that are currently running.

`docker images` to show the installed images

`docker kill <name>` to kill one or more running containers

`docker stop <name>` Stop one or more running containers

## Install in Kali Linux

This is a quick guide on how to install proper Docker CE in Kali Linux 2017.1. There’s other guides which use outdated Docker repositories \(you can tell by the package name — docker, docker-engine, or docker.io\).

[https://medium.com/@airman604/installing-docker-in-kali-linux-2017-1-fbaa4d1447fe](https://medium.com/@airman604/installing-docker-in-kali-linux-2017-1-fbaa4d1447fe)

[https://medium.com/@calypso\_bronte/installing-docker-in-kali-linux-2018-1-ef3a8ce3648](https://medium.com/@calypso_bronte/installing-docker-in-kali-linux-2018-1-ef3a8ce3648)

## Get a Docker image

`docker pull webgoat/webgoat-8.0` or `docker pull vulnerables/web-dvwa`

## Start and stop docker

`service docker start` or `systemctl start docker`

`service docker stop` or `systemctl stop docker`

start at boot: `systemctl enable docker` disable start at boot: `systemctl disable docker`

## Run images in a container

`docker run --rm -p 3000:3000 bkimminich/juice-shop`

Browse to [http://localhost:3000](http://localhost:3000)

`docker run -d -p 80:80 raesene/bwapp`

and you should be able to go to &lt;ip&gt;/install.php to set up your instance.

`docker run -p 8080:8080 -t webgoat/webgoat-8.0`

`docker run -p 8080:8080 -it webgoat/webgoat-8.0 /home/webgoat/start.sh`

[http://127.0.0.1:8080/WebGoat/](http://127.0.0.1:8080/WebGoat/)

Start with random mysql password:

`docker run -d -p 1337:80 citizenstig/nowasp`

Or specify it as environment variable:

`sudo docker run -d -p 80:80 -p 3306:3306 -e MYSQL_PASS="Chang3ME!" citizenstig/nowasp`

`docker run --rm -it -p 80:80 vulnerables/web-dvwa`  
172.17.0.6

### Publish ports <a id="f111"></a>

There are several flags you can use when using the docker[`run`](https://docs.docker.com/engine/reference/run/)command to publish a container’s ports outside of the container’s network and map them the host machine’s ports. These are the flags`-p`and`-P`, and they differ in terms of whether you want to publish one or all ports.

> To actually publish the port when running the container, use the `-p`_\_flag on_ `docker run`_to publish and map one or more ports, or the_ `-P`\_flag to publish all exposed ports and map them to high-order ports.  
> — [ Docker docs: EXPOSE](https://docs.docker.com/engine/reference/builder/#expose)

```text
docker run -p 80:80/tcp -p 80:80/udp my_app
```

In the above example, **the first number** following the`-p`flag **is the host port**, and the second is the container port. To publish all the ports you define in your Dockerfile with`EXPOSE`and bind them to the host machine, you can use the`-P`flag.

```text
docker run -P my_app
```

### View ports on a running container <a id="29dd"></a>

Once you have run your container and published its ports, you can then view the port mappings using the [docker port](https://docs.docker.com/engine/reference/commandline/port/) command.

```text
docker port CONTAINER [PRIVATE_PORT[/PROTOCOL]]
```

You can use this to lists all port mappings or just a specific mapping for a Docker container.

```text
docker port test_container
7890/tcp -> 0.0.0.0:4321
9876/tcp -> 0.0.0.0:1234

docker port test_container 7890/tcp
0.0.0.0:4321
```

docker run --rm -p 3000:3000 bkimminich/juice-shop Browse to [http://localhost:3000](http://localhost:3000)

docker run -d -p 80:80 raesene/bwapp and you should be able to go to &lt;ip&gt;/install.php to set up your instance.

docker run -d -p 8080:8080 -t webgoat/webgoat-8.0 docker run -d -p 8080:8080 -it webgoat/webgoat-8.0 /home/webgoat/start.sh [http://127.0.0.1:8080/WebGoat/](http://127.0.0.1:8080/WebGoat/)

Mutillidae

Start with random mysql password: docker run -d -p 1337:80 citizenstig/nowasp

Or specify it as environment variable: sudo docker run -d -p 80:80 -p 3306:3306 -e MYSQL\_PASS="Chang3ME!" citizenstig/nowasp

docker run --rm -it -d -p 80:80

vulnerables/web-dvwa 172.17.0.6

-p 127.0.0.1:27017:27017\` attaches port 27017 inside the container to 127.0.0.1:27017 on the host

