# Gcc and Gdb

Cheatsheet [https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/c.md](https://github.com/trstringer/cli-debugging-cheatsheets/blob/master/c.md)

Basic GDB commands [http://www.cs.mcgill.ca/~consult/info/gdb.html](http://www.cs.mcgill.ca/~consult/info/gdb.html)

| **GCC** |  |
| :--- | :--- |
| gcc vuln.c -ggdb -S -Wall -o vuln | Debug compilation |
| gcc -O vult.c -o vuln | Compile |
|  |  |
| -g | debugging information |
| -O | optimize for code size and execution time |
| -Wall | enable \(all\) warning messages |
| -ggdb | extra debugging information; useful when using gdb |
| -S | Creates a file with assembly instructions; saved in .s |
|  |  |
| **GDB commands** |  |
| gdb ./vuln | load program in GDB |
| list | lists source code |
| disassemble main | disassemble main function |
| disas /s main | disassembly with mixed source |
| run vuln | runs the vuln program |
| b main | puts a breakpoint at the beginning of the program |
| r | runs the program until a breakpoint |
| s or \(step\) | Execute one C-program statement \(steps into functions\) |
| si or \(stepi\) | Execute one machine instruction \(follows a call\) |
| ni | next instruction |
| info registers or   i   r | prints the names and values of all registers |
|  |  |

## ![](../../.gitbook/assets/screen-shot-2018-04-27-at-14.23.00.png) <a id="immunitydebugger"></a>

